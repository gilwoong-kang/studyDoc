## 아키텍쳐

### P2P

Peer to peer 의 준말. 피어가 다른 피어에게 구조를 동질하게 가지는 형태. 서버와 클라이언트 시스템을 본적이 있을 것이다. 서버는 리퀘스트를 기다리고 요청이 오면 그것에 대한 서비스를 담당하는 프로세스 존재. 이후 클라이언트에게 응답을 준다. 그런데 피투피는 모든 노드의 역할들이 클라이언트도 되고 서버도 되는 구조를 말한다. 서로가 클라이언트이자 서버인 것이다. 모든 노드가 서버의 역할을 하고 필요에 따라 다른 피어의 리퀘스트를 보낼 수 있는 역할을 가짐. 

분산아키텍쳐. 태스크와 워크로드가 분리되어있어서 모든 피어가 담당하는 일을 가지고 있다. 각 피어는 동격의 권리를 가진다. 피어들끼리 묶어서 하나의 어플리케이션, 또는 전체적인 어떤 일을 담당. 같은 레벨의 권리를 가지고 그 어플에 참여한다. 이것을 시메트릭한 롤이라고 한다.(symmetric roles) 

이런 피투피를 왜 하느냐. 피어들이 합쳐져서 큰 일을 해내도록 함. 리소스 문제. 피투피에 연결된 각 피어들은 각자 리소스를 가지고 있고 다른 피어가 그 리소스를 쉐어할 목적을 가지고 피투피 아키텍쳐 구조가 형성됨. 이 구조는 processing power일 수도 있고, 씨피유 파워, 아니면 콘텐트일수도 있다. (음원이라던가) 스토리지 일수도 있다. (디스크 스토리지) 네트워크 대역폭 등 여러 이유가 있다. 피투피를 나누는 이유는 리소스를 공유할 수 있는 목적. 다른 피어들이 리소스를 이용하게 하도록. 

피투피라고 하게돠면 어떤것을 공유할 것인지가 핵심. 콘텐트, 파워, 리소스 등.

요청하는 입장이나 받는 입장이나 모든 노드들이 같은 형태의 권한을 가지고 연결을 이어 나간다. 

#### 아키텍쳐 스타일

##### 장점

중앙집권적 컨트롤러가 없고 모든 노드가 같은 권한으로 리퀘스트와 리스폰스. 센트럴 서버가 없다. 중앙집권적 컨트롤 서버가 없음. 피어들이 자유자재로 다른 피어들과 연결. 실패가 일어날때 하나가 죽으면 다른것도 다 죽는 현상 없다. 피어들은 거의 같은구조이기 때문에 필요에따라 계속 붙여나갈 수 있음. 확장성이 있음. 

- No central point of failure
- Scalability

다른 종류의 플랫폼을 가지더라도 어플리케이션이 충분히 돌아 가도록 유연하게 처리. 

##### 단점

전체 통제를 하는것이 다 분산되어 있어서, 글로벌한 컨시스턴트를 가질 수 없음. 전체 구조를 하나의 스냅샷으로 처리 할 수 없다는 것임. 통제를 한다는 것이 어렵게 됨. 그래서 distributed coherency protocols 필요함. 

모든노드들이 같은 시점에서 만들어지지 않음. 각자 다른 특징이 있음. 시작하는 시점이라던가 리소스가 다름. 각 노드들에 따라 전체 시스템에 영향 끼칠수도. 

보안이 약함. 

#### 리소스

##### CPU

seti@home, GIMPS

##### Bandwidth

PPLive,PPStream 라이브나 스트리밍 서비스.

##### Storage space

OceanStore, Murex

##### Data

Napster, Torrent

##### People

Buddy Finder

##### Camera, Microphone, Sensor, Service, etc...

각 피어들이 디바이스가 가진 장점을 이용해 피투피 서비스 제공.

#### Classification

피어들은 협력하는 구조. 계속 붙여나갈수 있는 형태. Overlay network. 마치 인트라로 연결된 듯한 효과. 

##### Pure P2P

Central 한 포인트 없음. 각자 피어가 전체 구조를 연결해서 계속적으로 이 구조를 키워나갈 수 있는 형태. 전체 커뮤니케이션은 센트럴 서버 도움없이 일어남. 작은 스케일에 유용. 

서로 인지하면서 포트를 열어 커뮤니케이션 하는 형태

##### Hybrid P2P

여러개를 붙임. 부분적으로 센트럴 서버를 가지게 함. 

예를들어 암호 어플리케이션이라고 한다면, 검증된 사이트에서 데이터를 다운로드 받고 싶어 한다. 센트럴 서버에서 다운로드 받고 프로세스를 거침. 센트럴한 서버가 정보를 가진다. 어떠한 데이터를 의논하고자 한다면 센트럴 서버에 커넥션 하면 다른 피어들과 연결. 부분적으로 로그인 이나 멤버쉽과 같은 형태의 것만 센트럴 서버가 제공하고 이후의 것들은 피어에게 맡긴다.

부분적으로 센트럴 서버가 운용된다. 

##### Unstructured P2P

구조를 갖지 않음. 필요에 따라 붙여나감. 센트럴 서버 없음. 연결할때 필요에 따라 계속해서 붙여나감. Overlay network

<img src="/Users/gilwoongkang/School/2001-note/소아/image/스크린샷 2020-05-04 오후 5.14.44.png" alt="스크린샷 2020-05-04 오후 5.14.44" style="zoom:67%;" />

##### Structured P2P

구조를 가지고 있음. 토폴로지를 어느정도 구성해서 어드레스 체계를 가지게 함. 

<img src="/Users/gilwoongkang/School/2001-note/소아/image/스크린샷 2020-05-04 오후 5.14.53.png" alt="스크린샷 2020-05-04 오후 5.14.53" style="zoom:67%;" />

distributed hash table(DHT) 등을 가짐. 로지컬 어드레스를 가짐. 위치를 찾아 갈 수 있다. 

- Distribute Hash Tables

  로케이션, 서버 특징, 콘텐트, 리소스 스타일 등 가지고 있는 상태에서 해쉬를 돌려줌. 그러면 키가 나온다. 이러한 키로 유니크한 아이피 어드레스를 가지고 대칭 시킴. 

##### BitTorrent

피투피를 이용한 파일 쉐어링 프로토콜. 내 파일과 다른 파일의 노드가 공유 되도록 함. 큰 파일에 적용. 비디오나 오디오 등의 파일. 

##### Blockchain

가상화폐뿐 아니라. 블록체인에도 이용됨.

<img src="/Users/gilwoongkang/School/2001-note/소아/image/스크린샷 2020-05-04 오후 5.19.28.png" alt="스크린샷 2020-05-04 오후 5.19.28" style="zoom:67%;" />