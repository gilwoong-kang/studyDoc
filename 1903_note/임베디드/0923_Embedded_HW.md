## 임베디드시스템설계

0923

##### 임베디드 HW

![스크린샷 2019-09-23 오후 3.10.13](/Users/gilwoongkang/1903_note/임베디드/image/스크린샷 2019-09-23 오후 3.10.13.png)

세가지의 중요한 컴포넌트와 이를 잇는 시스템 버스가 존재한다. 프로세서를 보면 우리가 일반적으로 두뇌라고 생각하지만 실제로 보다보면 그렇지 않다고 생각하게 될 것이다. 이것은 나중에 다룬다. 

IO디바이스는 우리가 표준으로 알고있는 모니터 키보드 마우스 등에서부터 이런것까지 IO라고 하는지 느끼게 되는 것들이 있다.

시스템 버스는 컴포넌트들을 연결하기 위한 전기적 장치 정도로 생각하면 된다. 칩 안에 존재하는 On chip Bus / 칩 외부에 존재하는 Off chip Bus가 존재하며 컴포넌트를 잇는 중요한 역할을 한다. 

화살표의 방향을 보면 이것은 꽤 중요한 요소인데, 예를 들어 프로세서에서 시스템 버스로 가는 화살표는 단방향인데, 이것을 말할때 **"프로세스로 부터 값을 읽는다"** 라고 표현한다.또한 메모리로 향하는 화살표 또한 **값을 쓴다(write)** 고 할 수 있다.

이렇게 생각 할 때 우리는 일반적으로 프로세서를 주체로써 생각해서 해석한다. 때문에 이경우 Master 와 Slave가 생기게 되며, 메모리와 IO디바이스측을 Slave Componet라고 칭한다. 

값을 읽거나 쓰게 될때, 값을 읽거나 쓴다는 신호를 전송하게 된다. 이것을 Control Signal이라고 한다. 

##### Processor Structure

- Components
  - Register
  - Arithmetic logic unit(ALU)
  - Control unit(CU)
  - Processor bus

1. Register

   작업을 위한 값을 저장해놓는 Memory라고 볼 수 있다. 전력이 공급되는 한 저장된 값이 사라지지 않는다. 속도가 매우 빠르다. 하지만 소용량이다. CPU클럭에 따라 작동 한다.

   - 범용 레지스터

     프로그램이 마음대로 접근해서 이용하는 레지스터

   - 컨트롤 레지스터

     프로세서의 컨트롤 또는 프로그램의 Excution flow를 위한 레지스터

   - 스테이터스 레지스터

     프로세서의 현재 상태를 표기해주는 레지스터. 프로세서가 처리한것 등을 성공했는지 실패했는지 등에 대한것을 표기한다.

2. ALU(Arithmetic logic Unit)

   다양한 연산들을 ALU가 수행한다. 다양한 툴이 ALU에 들어있고 그것을 하나씩 꺼내쓴다고 이해하면 된다.

   - Arthmetic oerations

     +,-,*,/

   - Logical operator

     And / or ...

   - Bit shift operator

   Data + Opcode + Status

   Opcode를 통해 어떠한 작업을 할지 파악하고 직전의 수횅 결과등 참조해서 처리한다. Status를 통해 처리 결과에 대한 정보를 제공한다.

3. Control unit

   값을 읽거나 연산을 위해 CU가 어떤것을 어떻게 사용해서 어떤 결과를 만들어 낼지를 이 CU가 신호를 보내 제어하게 된다. 하지만 이것또한 시키는대로(프로그램이) 하는 것일 뿐 이 CU자체가 무언가를 사고하고 처리하는 것은 아니다.

   ![스크린샷 2019-09-23 오후 3.35.31](/Users/gilwoongkang/1903_note/임베디드/image/스크린샷 2019-09-23 오후 3.35.31.png)

   최초로 Program counter가 등장한다. 이 프로그램 카운터 값을(어드레스 값) 레지스터에 저장해 놓고 하나씩 읽어들여 메모리 주소값을 받아 그것을 읽어들여 처리한다.

4. Processor bus

   컴포넌트들을 이어주는 wire같은 것이다. 

   Address bus를 대부분 unidirectional로 지정한다. 멀티 마스터의 경우 Bidirectional을 채택하긴 하지만 unidirectional을 사용할 수도 있다. (?)

##### Microprocessor vs Soc

- Microprocessor

  하나의 칩 프로세서로 모든 컴포넌트가 포함된 것이다.  최근 3DIC기술이 도입되어 평면에서 벗어나 입체적으로 칩을 구성하기도 한다.

> *SRAM이 빠르다고도 하고 단순이 비용 상관없이 계속 들려도 되지 않느냐 ?*

해당 질문에 대하여 먼저 결과는 안된다. 이다. 왜냐하면 이는 물리적 법칙에 위배되는 행위이기 때문에 이렇게 할수가 없다. 면적과 발열 등의 문제도 존재한다. 전체적인 물리적 법칙 이내에서 개발해야 하기 때문에 여러가지를 고려하게 된다.

##### Assembler and Machine Language

상위 언어를 Assembly 언어로 변환한 뒤 기계어로 변환한다. 

##### ISA(Instruction set Architecture)

하드웨어적 언어에 대한 문법이 정의가 되어있다. 이것을 ISA라고 한다. 

##### Pipeline 

##### CISC vs RISC

CISC : complex intruction set computer

RISC : reduced instruction set computer

![스크린샷 2019-09-23 오후 4.07.33](/Users/gilwoongkang/1903_note/임베디드/image/스크린샷 2019-09-23 오후 4.07.33.png)

인텔은 겉에서 봤을때는 RISC가 맞지만 내부적으로 봤을때에는 CISC에 가까워짐을 알 수 있다. 

##### Von-Neumann vs Harvard Architecture

![스크린샷 2019-09-23 오후 4.12.17](/Users/gilwoongkang/1903_note/임베디드/image/스크린샷 2019-09-23 오후 4.12.17.png)

영역은 다르지만 길이 동일하다. 즉 출입구가 같다는 뜻이다. 하나의 Bus를 공유해서 이용하게 된다. 클럭에 대해 분리하고 나누어 이용한다.

![스크린샷 2019-09-23 오후 4.13.09](/Users/gilwoongkang/1903_note/임베디드/image/스크린샷 2019-09-23 오후 4.13.09.png)

각 영역에 대한 핀이 분리되어 있다. 이것의 장점은 속도가 빨라진다는 장점이 존재한다. 하지만 높은 공간 차지와 비용등의 문제가 존재하며, 이것이 우리가 생각할때에는 2배의 속도를 가질것 같지만 다양한 문제와 여러 변수로 두가지가 동시에 진행되는 경우가 많지는 않다.