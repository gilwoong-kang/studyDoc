## 정보보호

### ARP(이더넷 프레임 레이어에서)

> Spoofing : 속이다. A가 아닌데 A인척 한다. 앞에 다른것이 붙을 수 있다, ex) ip spoofing, 등..
>
> sniff : 엿듣는것(도청)

랜에서 왔다갔다하는 이더넷 패킷을 엿듣게 하는것을 ARP spoofing이라고 한다. 트래픽을 멈추게 할수도, 의도적으로 패킷을 더 넣어 보낼수도 있다. ARP poisoning, ARP flooding, ARP poison routing 이라고도 한다. 

<img src="/Users/gilwoongkang/School/2002-note/정보보안/image/IMG_564C45705FF7-1.jpeg" alt="IMG_564C45705FF7-1" style="zoom:67%;" />

### Smurf attack

패킷을 많이 보내면 해가 될 수 있음을 의도.

> ICMP(internet control message protocol) 인터넷 컨트롤 메세지인데, 죽었는지 살았는지 확인하는 그런것.

만일 해커가 패킷 보낼때 출발 주소를 속여서 보내면 서버가 응답할때 도착 주소를 다른곳에 보내게 되어 낭비시킬 수 있다. 

<img src="/Users/gilwoongkang/School/2002-note/정보보안/image/IMG_CB7803BFDDC5-1.jpeg" alt="IMG_CB7803BFDDC5-1" style="zoom:67%;" />

랜에서만 가능한 것은 아님. 안쪽으로 패킷을 넣을수만 있다면 외부에서도 충분히 가능하다.때문에 일반적으로 외부에서 들어오는 패킷은 ICMP를 막게 하기도 하고 ping에 대해 모두 응답하지는 않는 등 조치를 취한다. 

### MAC Flooding

이전 시대 hub사용 당시는 모든 패킷을 복사해 모든곳에 보내는 형식이라 공격자가 패킷을 보기만 하면 됬었지만, 현재는 스위치를 사용하기 때문에 목적지에만 보낸다. 

이때 스위치는 맥주소와 아이피주소를 캐시로 가진다. 만약에 스위치에 있는 캐시 메모리가 쓰레기 값으로 가득 채운다면 ? 공격자가 의미없는 패킷을 생성해서 마구 보낸다. 이렇게 해서 캐시를 더미값으로 꽉 채우면 스위치는 옛날 방식인 허브방식으로 동작한다. 이때는 브로드캐스팅으로 다시 보내기 때문에 공격자는 패킷을 전부 볼 수 있다.

단 이것은 치명적 단점이 있는데 인터넷이 느려진다. 

해결 방법은 IP:MAC쌍을 지정된 것만 허가하는 것이다. ARP watch도 좋은 방식. 

### IP spoofing

중요. 먼저 소켓프로그래밍 부터. ```sock_raw``` 값을 넣으면 tcp/udp,ip등 변경할 수 있다. 이것을 해커가 노린 것인데, 출발지 주소를 바꿔서 보냈다.

##### Dos

공격자가 한명. SYN flooding.

> SYN flooding : 리눅스 서버에 웹을 운영한다고 하자. 특수한 공격도구들이 있다. 매우 많은 패킷을 계속해서 보낸다.그런데 이때 출발지 ip에 대해 서버가 너무 많이 받으면 그것을 막을 수 있다. 이때문에 공격자는 출발 ip를 랜덤하게 row-socket 프로그래밍 하는 것이다. 이렇게 보내면 막기가 어려움. 

##### DDoS

공격하는 호스트가 여러대. Smurf.