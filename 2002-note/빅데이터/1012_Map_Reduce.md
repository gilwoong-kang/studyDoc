## 빅데이터

### Map Reduce

#### map

입력으로 일련의 리스트(중복값 허용) 또는 세트(중복이 일반적으로 허용되지 않음, 원소가 들어간 순서가 반드시 저장된 순서는 아님) 

맵이라는 것은 이런 자료구조에 입력인자 함수. 이것을 실행. n개의 입력에 n개의 출력을 가지는 것이 일반적 형태.  포문과 비슷한 형태. 하지만 차이점은 맵은 무엇을 원하는지가 나타나고, 포문은 해야할 기능과 일을 모두 지정한 것이다. 즉 맵에서는 맵이 어떻게 동작 하게 되는지는 크게 관여하지 않는 것이다. 

> SQL언어는 Declarative Lang 로 선언형 언어라고 한다. 이것은 '무엇을 뭐한다' 라고만 표현한다. 그 내부가 어떻게 동작하게 되는지는 거의 신경쓰지 않는데 이 때문에 데이터베이스 내부적으로 최적화를 크게 이룰수 있는 장점을 가지고 있다. 또한 이것은 상대적으로 쉬운 언어이다. 

맵 함수는 일종의 Declarative Lang라고 볼 수 있다. 때문에 손 쉬운 인터페이스를 제공 할 수있다. 이것은 지금의 하둡, 스파크를 만들어내는데 중요한 요소.

#### Reduce

입력은 맵과 같음. 리스트 또는 세트의 원소를 가지고 실행. 함수를 실행해서 합쳐주는 것이 목적.(Aggregation) 리듀스의 특징은 줄여나가는 것이기 때문에 결국은 입력 갯수가 n개라고 해도 최종 결과는 1개가 된다. (N to 1) 

### 분산 프로그래밍

Map과 Reduce개념은 분산 프로그래밍 및 자원관리의 복잡성을 추상화를 통해서 없애주며 손쉬운 프로그래밍을 가능하게 해줌. 

분산시스템에 대한 자원관리 자원의 실패 다양한 하드웨어 그러한 복잡성을 사용자에게 알려주지 않고 사용자는 그저 지정하고 실행하기만 하면 실제 동작은 분산 플랫폼이 알아서 하고 결과만 리턴해줌. 추상화 시켜서 사용자가 신경 쓸 필요가 없도록 한 것임. 

추가적으로 데이터 분배. 분석 작업을 어떻게 분배 할 것인지. 이것은 플랫폼이 알아서 함. 분석 작업 분배라는 것이  강연히 필요한 작업이었음. 

#### Map reduce Programming & Hadoop

맵 리듀스 분산 프로그래밍은 키 밸류를 쌍으로 입력 받아서 분석 처리 후 키밸류 쌍을 출력으로 제공해줌. 

- 맵 단계 : 리스트 || 세트로 표현된 키밸류 싸에 맵에 주어진 함수 실행 (N to N)
- 리듀스 단계 : 맵 수행 후 생성된 키밸류에 같은 키들에 대해 리듀스에 주어진 함수 실행. (N to 1)
- 하둡은 맵 리듀스 프로그래밍 컨셉을 오픈소스 버전으로 구현한 시스템. 

##### Map reduce Ex - wordCount

대용량 문서에 대해 각 단어들의 출현횟수 카운트.

1. Map : 입력으로 텍스트 기반 문서. 각각의 블락 독립적으로 단어 갯수 카운트. 출력물은 <word,Number>.
2. Reduce : 맵 작업의 결과물이 입력. 단어별로 더해진 횟수를 결과로 내보냄. 

- Hadoop MapReduce 프로그래밍 구조도

  Worker에 각 블럭을 보냄. 사용자 정의 Map을 실행. 결과물을 다시 Worker에 보내는데 Partitioner 라는 것이 맵에서 나온 결과물에 대해 같은 키 값들을 하나의 워커로 보내줌. 이후 처리된 결과를 내보낸다. 